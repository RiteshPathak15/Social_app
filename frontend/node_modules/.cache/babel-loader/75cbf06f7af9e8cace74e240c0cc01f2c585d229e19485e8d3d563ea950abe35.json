{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import'../screens/AllNotice.css';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AllNotice(){const storedDataString=localStorage.getItem('token');const storedData=JSON.parse(storedDataString);const token=storedData.token;const[data,setdata]=useState([]);const loginStatus=()=>{// console.log(storedDataString)\n// console.log(storedData)\n// console.log(token)\nif(token){return[/*#__PURE__*/_jsx(_Fragment,{})];}else{return[/*#__PURE__*/_jsxs(\"div\",{className:\"login_dailog\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"head\",children:\"Login to Continue\"}),/*#__PURE__*/_jsx(Link,{to:\"/SignIn\",className:\"continue\",children:\"Click here to continue\"})]})];}};useEffect(()=>{// Fetching post\nfetch(\"http://localhost:5000/NoticeAllPosts\",{headers:{\"authorization\":\"Bearer \"+token}}).then(res=>res.json()).then(result=>setdata(result)).catch(err=>console.log(err));},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[loginStatus(),/*#__PURE__*/_jsx(\"div\",{className:\"Home\",children:data.map(posts=>{console.log(posts);return/*#__PURE__*/_jsxs(\"div\",{className:\"home-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"home-card-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-card-pic\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://w7.pngwing.com/pngs/178/595/png-transparent-user-profile-computer-icons-login-user-avatars-thumbnail.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"userName\",children:posts.postedBy.UserName})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"home-card-img\",children:/*#__PURE__*/_jsx(\"img\",{src:posts.photo,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-card-content\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{id:\"caption\",children:posts.body})]})]});})})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","AllNotice","storedDataString","localStorage","getItem","storedData","JSON","parse","token","data","setdata","loginStatus","className","children","id","to","fetch","headers","then","res","json","result","catch","err","console","log","map","posts","src","alt","postedBy","UserName","photo","body"],"sources":["C:/Users/pursh/OneDrive/Desktop/college/backend/frontend/src/pages/screens/AllNotice.js"],"sourcesContent":["import React, { useEffect,useState} from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport '../screens/AllNotice.css';\r\n\r\nexport default function AllNotice() {\r\n  const storedDataString = localStorage.getItem('token');\r\n    const storedData = JSON.parse(storedDataString);\r\n    const token = storedData.token;\r\n    const [data, setdata] = useState([])\r\n  const loginStatus = () => {\r\n    \r\n    // console.log(storedDataString)\r\n    // console.log(storedData)\r\n    // console.log(token)\r\n    if (token) {\r\n      return [\r\n        <>\r\n          {/* <Navbar /> */}\r\n\r\n        </>\r\n      ]\r\n    } else {\r\n      return [\r\n        <div className='login_dailog'>\r\n          <h2 id='head'>Login to Continue</h2>\r\n          <Link to='/SignIn' className='continue'>Click here to continue</Link>\r\n        </div>\r\n      ]\r\n    }\r\n  }\r\nuseEffect(() => {\r\n  // Fetching post\r\n  fetch(\"http://localhost:5000/NoticeAllPosts\",{\r\n    headers: {\r\n      \"authorization\": \"Bearer \" + token\r\n    },\r\n  }).then(res=>res.json())\r\n  .then(result=> setdata(result))\r\n  .catch(err=>console.log(err))\r\n}, [])\r\n\r\n  return (\r\n    <>\r\n      {loginStatus()}\r\n     \r\n    <div className=\"Home\">\r\n    {data.map((posts)=>{\r\n      console.log(posts)\r\n      return(\r\n        <div className='home-card'>\r\n        <div className=\"home-card-header\">\r\n          <div className='home-card-pic'>\r\n            <img src=\"https://w7.pngwing.com/pngs/178/595/png-transparent-user-profile-computer-icons-login-user-avatars-thumbnail.png\"\r\n              alt=\"\"/>\r\n            <h5 className='userName'>{posts.postedBy.UserName}</h5>\r\n          \r\n          </div>\r\n        </div>\r\n        <div className=\"home-card-img\">\r\n          <img src={posts.photo}\r\n            alt=\"\" />\r\n        </div>\r\n        <div className=\"home-card-content\">\r\n        <br/>\r\n  \r\n        <p id='caption'>{posts.body}</p>\r\n        </div>\r\n       \r\n\r\n\r\n      </div>\r\n      )\r\n    })}\r\n      \r\n      </div>\r\n\r\n    </>\r\n\r\n  )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAACC,QAAQ,KAAO,OAAO,CAChD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,0BAA0B,CAAC,OAAAC,QAAA,IAAAC,SAAA,gCAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,CAClC,KAAM,CAAAC,gBAAgB,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACpD,KAAM,CAAAC,UAAU,CAAGC,IAAI,CAACC,KAAK,CAACL,gBAAgB,CAAC,CAC/C,KAAM,CAAAM,KAAK,CAAGH,UAAU,CAACG,KAAK,CAC9B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAkB,WAAW,CAAGA,CAAA,GAAM,CAExB;AACA;AACA;AACA,GAAIH,KAAK,CAAE,CACT,MAAO,cACLV,IAAA,CAAAF,SAAA,GAGE,CAAC,CACJ,CACH,CAAC,IAAM,CACL,MAAO,cACLI,KAAA,QAAKY,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3Bf,IAAA,OAAIgB,EAAE,CAAC,MAAM,CAAAD,QAAA,CAAC,mBAAiB,CAAI,CAAC,cACpCf,IAAA,CAACJ,IAAI,EAACqB,EAAE,CAAC,SAAS,CAACH,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,wBAAsB,CAAM,CAAC,EAClE,CAAC,CACP,CACH,CACF,CAAC,CACHrB,SAAS,CAAC,IAAM,CACd;AACAwB,KAAK,CAAC,sCAAsC,CAAC,CAC3CC,OAAO,CAAE,CACP,eAAe,CAAE,SAAS,CAAGT,KAC/B,CACF,CAAC,CAAC,CAACU,IAAI,CAACC,GAAG,EAAEA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,MAAM,EAAGX,OAAO,CAACW,MAAM,CAAC,CAAC,CAC9BC,KAAK,CAACC,GAAG,EAAEC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,CAC/B,CAAC,CAAE,EAAE,CAAC,CAEJ,mBACEvB,KAAA,CAAAJ,SAAA,EAAAiB,QAAA,EACGF,WAAW,CAAC,CAAC,cAEhBb,IAAA,QAAKc,SAAS,CAAC,MAAM,CAAAC,QAAA,CACpBJ,IAAI,CAACiB,GAAG,CAAEC,KAAK,EAAG,CACjBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC,CAClB,mBACE3B,KAAA,QAAKY,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC1Bf,IAAA,QAAKc,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/Bb,KAAA,QAAKY,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5Bf,IAAA,QAAK8B,GAAG,CAAC,kHAAkH,CACzHC,GAAG,CAAC,EAAE,CAAC,CAAC,cACV/B,IAAA,OAAIc,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAEc,KAAK,CAACG,QAAQ,CAACC,QAAQ,CAAK,CAAC,EAEpD,CAAC,CACH,CAAC,cACNjC,IAAA,QAAKc,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5Bf,IAAA,QAAK8B,GAAG,CAAED,KAAK,CAACK,KAAM,CACpBH,GAAG,CAAC,EAAE,CAAE,CAAC,CACR,CAAC,cACN7B,KAAA,QAAKY,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAClCf,IAAA,QAAI,CAAC,cAELA,IAAA,MAAGgB,EAAE,CAAC,SAAS,CAAAD,QAAA,CAAEc,KAAK,CAACM,IAAI,CAAI,CAAC,EAC3B,CAAC,EAIH,CAAC,CAER,CAAC,CAAC,CAEK,CAAC,EAEN,CAAC,CAGP"},"metadata":{},"sourceType":"module","externalDependencies":[]}