{"ast":null,"code":"// import React,{useEffect,useState} from 'react'\n// import Navbar from './Navbar'\n// import '../CSS/Profile.css';\n// import profile from '../img/profile.webp';\n// import Logo from '../img/logo.jpeg';\n// import PostDetails from './PostDetails';\n// export default function Profile() {\n//   const [pic, setpic] = useState([])\n//   useEffect(() => {\n//     return () => {\n//       fetch(\"http://localhost:5000/myposts\",{\n//         headers: {\n//           \"authorization\": \"Bearer \" + localStorage.getItem('jwt')\n//         },\n//       }).then(res=>res.json())\n//       .then(result=> setpic(result))\n//       .catch(err=>console.log(err))\n//     }\n//   }, [])\n//  const name=JSON.parse(localStorage.getItem('user'));\n//   return (\n//    <>\n//    <Navbar/>\n//    <div className=\"cover\"></div>\n//   <div className=\"profile-container\">\n//     <div className=\"profile-picture\"></div>\n//     <div className=\"user-info\">\n//       <h2>{name.UserName}</h2>\n//       {/* <!-- Add more information as needed --> */}\n//     </div>\n//   </div>\n//   {/* <!--Image Grid--> */}\n//   {/* <!--Start--> */}\n//   <div className=\"image-grid\">\n//     {pic.map((pics)=>{\n//       //  const username=posts.postedBy?.UserName||posts.postedByAdmins?.Email;\n//      return  <img key={pic.id} src={pics.photo} alt=\"user\"/>\n//     })}\n//   </div>\n//   <PostDetails/>\n//    </>\n//   )\n// }\nimport React,{useEffect,useState}from\"react\";import PostDetails from\"../pages/PostDetails\";import\"../CSS/Profile.css\";import ProfilePic from\"../pages/ProfilePic\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profie(){var picLink=\"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";const[pic,setPic]=useState([]);const[show,setShow]=useState(false);const[posts,setPosts]=useState([]);const[user,setUser]=useState(\"\");const[changePic,setChangePic]=useState(false);const toggleDetails=posts=>{if(show){setShow(false);}else{setShow(true);setPosts(posts);}};const changeprofile=()=>{if(changePic){setChangePic(false);}else{setChangePic(true);}};useEffect(()=>{fetch(\"/user/\".concat(JSON.parse(localStorage.getItem(\"user\"))._id),{headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(res=>res.json()).then(result=>{console.log(result);console.log(result.posts);console.log(result.user);setPic(result.posts);setUser(result.user);console.log(pic);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-frame\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-pic\",children:/*#__PURE__*/_jsx(\"img\",{onClick:changeprofile,src:user.Photo?user.Photo:picLink,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pofile-data\",children:[/*#__PURE__*/_jsx(\"h1\",{children:JSON.parse(localStorage.getItem(\"user\")).name}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[pic?pic.length:\"0\",\" posts\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[user.followers?user.followers.length:\"0\",\" followers\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[user.following?user.following.length:\"0\",\" following\"]})]})]})]}),/*#__PURE__*/_jsx(\"hr\",{style:{width:\"90%\",opacity:\"0.8\",margin:\"25px auto\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery\",children:pic.map(pics=>{return/*#__PURE__*/_jsx(\"img\",{src:pics.photo,onClick:()=>{toggleDetails(pics);},className:\"item\"},pics._id);})}),show&&/*#__PURE__*/_jsx(PostDetails,{item:posts,toggleDetails:toggleDetails}),changePic&&/*#__PURE__*/_jsx(ProfilePic,{changeprofile:changeprofile})]});}","map":{"version":3,"names":["React","useEffect","useState","PostDetails","ProfilePic","jsx","_jsx","jsxs","_jsxs","Profie","picLink","pic","setPic","show","setShow","posts","setPosts","user","setUser","changePic","setChangePic","toggleDetails","changeprofile","fetch","concat","JSON","parse","localStorage","getItem","_id","headers","Authorization","then","res","json","result","console","log","className","children","onClick","src","Photo","alt","name","style","display","length","followers","following","width","opacity","margin","map","pics","photo","item"],"sources":["C:/Users/pursh/OneDrive/Desktop/college/backend/frontend/src/pages/Profile.js"],"sourcesContent":["// import React,{useEffect,useState} from 'react'\r\n// import Navbar from './Navbar'\r\n// import '../CSS/Profile.css';\r\n// import profile from '../img/profile.webp';\r\n// import Logo from '../img/logo.jpeg';\r\n// import PostDetails from './PostDetails';\r\n// export default function Profile() {\r\n//   const [pic, setpic] = useState([])\r\n//   useEffect(() => {\r\n\r\n  \r\n//     return () => {\r\n//       fetch(\"http://localhost:5000/myposts\",{\r\n//         headers: {\r\n//           \"authorization\": \"Bearer \" + localStorage.getItem('jwt')\r\n//         },\r\n//       }).then(res=>res.json())\r\n//       .then(result=> setpic(result))\r\n//       .catch(err=>console.log(err))\r\n//     }\r\n//   }, [])\r\n//  const name=JSON.parse(localStorage.getItem('user'));\r\n//   return (\r\n//    <>\r\n//    <Navbar/>\r\n//    <div className=\"cover\"></div>\r\n//   <div className=\"profile-container\">\r\n//     <div className=\"profile-picture\"></div>\r\n//     <div className=\"user-info\">\r\n//       <h2>{name.UserName}</h2>\r\n     \r\n//       {/* <!-- Add more information as needed --> */}\r\n//     </div>\r\n//   </div>\r\n//   {/* <!--Image Grid--> */}\r\n//   {/* <!--Start--> */}\r\n//   <div className=\"image-grid\">\r\n\r\n//     {pic.map((pics)=>{\r\n//       //  const username=posts.postedBy?.UserName||posts.postedByAdmins?.Email;\r\n//      return  <img key={pic.id} src={pics.photo} alt=\"user\"/>\r\n//     })}\r\n    \r\n  \r\n\r\n   \r\n//   </div>\r\n//   <PostDetails/>\r\n//    </>\r\n//   )\r\n// }\r\n\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport PostDetails from \"../pages/PostDetails\";\r\nimport \"../CSS/Profile.css\";\r\nimport ProfilePic from \"../pages/ProfilePic\";\r\n\r\nexport default function Profie() {\r\n  var picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\"\r\n  const [pic, setPic] = useState([]);\r\n  const [show, setShow] = useState(false)\r\n  const [posts, setPosts] = useState([]);\r\n  const [user, setUser] = useState(\"\")\r\n const [changePic, setChangePic] = useState(false)\r\n\r\n\r\n  const toggleDetails = (posts) => {\r\n    if (show) {\r\n      setShow(false);\r\n    } else {\r\n      setShow(true);\r\n      setPosts(posts);\r\n    }\r\n  };\r\n\r\n  const changeprofile = () => {\r\n    if (changePic) {\r\n      setChangePic(false)\r\n    } else {\r\n      setChangePic(true)\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    fetch(`/user/${JSON.parse(localStorage.getItem(\"user\"))._id}`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result)\r\n        console.log(result.posts)\r\n        console.log(result.user);\r\n        setPic(result.posts);\r\n        setUser(result.user)\r\n        console.log(pic);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      {/* Profile frame */}\r\n      <div className=\"profile-frame\">\r\n        {/* profile-pic */}\r\n        <div className=\"profile-pic\">\r\n          <img\r\n            onClick={changeprofile}\r\n            src={user.Photo ? user.Photo : picLink}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        {/* profile-data */}\r\n        <div className=\"pofile-data\">\r\n          <h1>{JSON.parse(localStorage.getItem(\"user\")).name}</h1>\r\n          <div className=\"profile-info\" style={{ display: \"flex\" }}>\r\n            <p>{pic ? pic.length : \"0\"} posts</p>\r\n            <p>{user.followers ? user.followers.length : \"0\"} followers</p>\r\n            <p>{user.following ? user.following.length : \"0\"} following</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr\r\n        style={{\r\n          width: \"90%\",\r\n\r\n          opacity: \"0.8\",\r\n          margin: \"25px auto\",\r\n        }}\r\n      />\r\n      {/* Gallery */}\r\n      <div className=\"gallery\">\r\n        {pic.map((pics) => {\r\n          return <img key={pics._id} src={pics.photo}\r\n            onClick={() => {\r\n              toggleDetails(pics)\r\n            }}\r\n            className=\"item\"></img>;\r\n        })}\r\n      </div>\r\n      {show &&\r\n        <PostDetails item={posts} toggleDetails={toggleDetails} />\r\n      }\r\n      {\r\n        changePic &&\r\n        <ProfilePic changeprofile={changeprofile} />\r\n      }\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}